
# -*- coding: utf-8 -*-
"""
peds_conditions.py
- ì†Œì•„ ë³´í˜¸ìž ì¹œí™”í˜• 'ë³‘ëª…ë³„ ì•ˆë‚´' ë°ì´í„°ì™€ ìœ í‹¸ë¦¬í‹°
- ì°¸ê³ ìš© ì•ˆë‚´ì´ë©° ìµœì¢… íŒë‹¨ì€ ì˜ë£Œì§„ì˜ ëª«ìž…ë‹ˆë‹¤.
"""
from typing import Dict, List, Optional

KST_NOTE = "â± í•œêµ­ì‹œê°„(KST) ê¸°ì¤€ ì•ˆë‚´ìž…ë‹ˆë‹¤."
DISCLAIMER = ("âš ï¸ ì´ íŽ˜ì´ì§€ì˜ ë‚´ìš©ì€ ë³´í˜¸ìž ì°¸ê³ ìš©ìž…ë‹ˆë‹¤. "
              "ì•„ì´ ìƒíƒœê°€ ë¹ ë¥´ê²Œ ë‚˜ë¹ ì§€ê±°ë‚˜, ë³´í˜¸ìžì˜ ì§ê°ìœ¼ë¡œ 'ì´ìƒí•˜ë‹¤'ê³  ëŠê»´ì§€ë©´ ì¦‰ì‹œ ì˜ë£Œì§„ê³¼ ìƒì˜í•˜ì„¸ìš”.")

# ì§ˆí™˜ë³„ ê¸°ë³¸ ì•ˆë‚´ ë°ì´í„°
# ê° í•­ëª©: title, quick, home, caution, when_clinic, when_er, myths
CONDITIONS: Dict[str, Dict[str, List[str]]] = {
    "ìˆ˜ì¡±êµ¬ë³‘": {
        "title": ["ìˆ˜ì¡±êµ¬ë³‘ (Hand-Foot-Mouth Disease)"],
        "quick": [
            "ëŒ€ê°œ ë°”ì´ëŸ¬ìŠ¤ì„±, ì†/ë°œ/ìž… ì•ˆ ìˆ˜í¬(ë¬¼ì§‘)ì™€ ë°œì§„ì´ íŠ¹ì§•.",
            "ê³ ì—´ì´ 2~3ì¼ ì§€ì†ë  ìˆ˜ ìžˆìœ¼ë‚˜ ë³´í†µ 5~7ì¼ ë‚´ í˜¸ì „."
        ],
        "home": [
            "ì‹¤ë‚´ 25~26â„ƒë¡œ ìœ ì§€, ê°€ë²¼ìš´ ì˜·ì°¨ë¦¼(ë°˜ë°”ì§€ ë“±).",
            "ìˆ˜ë¶„ì„ 'ì†ŒëŸ‰Â·ìžì£¼' ì œê³µ: ë¬¼/ORS/ê³¼ì¼ì£¼ìŠ¤(í¬ì„), ì–¼ìŒì¡°ê°/ì ¤ë¦¬ë„ ê°€ëŠ¥.",
            "ì†ë°œì´ ë”°ëœ»í•˜ë©´ ëŒ€ê°œ í•´ì—´ ì§„í–‰ ì¤‘, ì°¨ê°€ìš°ë©´ ì•„ì§ í•´ì—´ ì „ì¼ ìˆ˜ ìžˆìŒ."
        ],
        "caution": [
            "êµ¬ê°• í†µì¦ìœ¼ë¡œ íƒˆìˆ˜ ìœ„í—˜: ì†Œë³€ íšŸìˆ˜/ì–‘ ê°ì†Œ ì‹œ ì£¼ì˜.",
            "ìˆ˜í¬ë¥¼ í„°ëœ¨ë¦¬ì§€ ë§ ê²ƒ(2ì°¨ ê°ì—¼ ìœ„í—˜).",
            "í•´ì—´ì œ ê³¼ë‹¤ ë³µìš© ê¸ˆì§€(ì„±ë¶„ ì¤‘ë³µ ì£¼ì˜)."
        ],
        "when_clinic": [
            "ì—´ì´ 3ì¼ ì´ìƒ ì§€ì†ë˜ê±°ë‚˜ í†µì¦ìœ¼ë¡œ ìˆ˜ë¶„ ì„­ì·¨ê°€ ì–´ë ¤ìš¸ ë•Œ.",
            "ìž… ì£¼ë³€ì´ ì‹¬í•˜ê²Œ í—ì–´ ìŒì‹ì„ ê±°ì˜ ëª» ë¨¹ëŠ” ê²½ìš°."
        ],
        "when_er": [
            "í•˜ë£¨ ì´ìƒ ì†Œë³€ëŸ‰ì´ ëšœë ·ížˆ ì¤„ê±°ë‚˜, ë§¤ìš° ì²˜ì§€ë©° ê¹¨ìš°ê¸° ì–´ë ¤ì›€.",
            "ì—°ì† êµ¬í† /í”¼ ì„žì¸ êµ¬í† Â·ë³€, í˜¸í¡ ê³¤ëž€, ê²½ë ¨."
        ],
        "myths": [
            "ìž…ì•ˆ 'í˜ˆì /ëŒê¸°'ë§Œìœ¼ë¡œ ìˆ˜ì¡±êµ¬ë¥¼ ë‹¨ì •í•˜ì§€ ë§ˆì„¸ìš”. ì†Â·ë°œ ìˆ˜í¬/ë°œì§„ ë™ë°˜ ì—¬ë¶€ê°€ ë” ì¤‘ìš”í•©ë‹ˆë‹¤."
        ]
    },
    "ë°”ì´ëŸ¬ìŠ¤ì„± ìž¥ì—¼": {
        "title": ["ë°”ì´ëŸ¬ìŠ¤ì„± ìž¥ì—¼ (ë¡œíƒ€/ë…¸ë¡œ ë“±)"],
        "quick": [
            "êµ¬í† ì™€ ë¬¼ì„¤ì‚¬, ë³µí†µ, ë¯¸ì—´/ë°œì—´ì´ í”í•¨.",
            "ëŒ€ë¶€ë¶„ 3~5ì¼ ë‚´ í˜¸ì „. íƒˆìˆ˜ ê´€ë¦¬ê°€ í•µì‹¬."
        ],
        "home": [
            "êµ¬í†  ì´ˆê¸°ì—” 5~10ë¶„ ê°„ê²©ìœ¼ë¡œ í‹°ìŠ¤í‘¼ ë‹¨ìœ„ ìˆ˜ë¶„(ORS/ë¬¼)ì„ ì²œì²œížˆ.",
            "ì„¤ì‚¬ ì¤‘ì—ë„ 'ìˆ˜ë¶„Â·ì „í•´ì§ˆ ë³´ì¶©'ì´ ê°€ìž¥ ì¤‘ìš”.",
            "ì§€ì† ì„¤ì‚¬ ì¤‘ì—” ìš°ìœ /ìœ ì œí’ˆì´ ë”ë¶€ë£©í•¨ì„ ìœ ë°œí•  ìˆ˜ ìžˆì–´ ì¼ì‹œ ì œí•œ ê³ ë ¤."
        ],
        "caution": [
            "í˜ˆë³€, ì½œë ˆë¼ ê°™ì´ ë¬¼ ê°™ì€ ì‹¬í•œ ì„¤ì‚¬, ê³ ì—´ ì§€ì† ì‹œ ì£¼ì˜.",
            "í•­ìƒì œëŠ” ëŒ€ë¶€ë¶„ ë„ì›€ì´ ë˜ì§€ ì•ŠìŒ(ë°”ì´ëŸ¬ìŠ¤ ì›ì¸)."
        ],
        "when_clinic": [
            "êµ¬í† /ì„¤ì‚¬ê°€ 3ì¼ ì´ìƒ ì§€ì†, ì†Œë³€ëŸ‰ ê°ì†Œ.",
            "ë³µí†µì´ ì‹¬í•´ ìš¸ê±°ë‚˜ ë³´ì±„ëŠ” ì‹œê°„ì´ ê¸¸ì–´ì§."
        ],
        "when_er": [
            "ì—°ì† êµ¬í† ë¡œ ë¬¼ë„ ëª» ë„˜ê¹€, ì˜ì‹ì €í•˜/ì‹¬í•œ ì²˜ì§.",
            "ê²€ì€ë³€/ì„ í™ìƒ‰ í˜ˆë³€, íƒˆìˆ˜ë¡œ ìž…ë§ˆë¦„Â·ëˆˆë¬¼ ê°ì†ŒÂ·ì†Œë³€ ê±°ì˜ ì—†ìŒ."
        ],
        "myths": [
            "ì„¤ì‚¬ ì¤‘ì—” ë¬¼ì„ 'ì¼ë‹¨ ì¤‘ë‹¨'í•´ì•¼ í•œë‹¤ëŠ” ì˜¤í•´ê°€ ìžˆìŠµë‹ˆë‹¤. ì˜¤ížˆë ¤ ì†ŒëŸ‰ì”© ìžì£¼ ë³´ì¶©í•´ì•¼ í•©ë‹ˆë‹¤."
        ]
    },
    "íŽ¸ë„/ì¸í›„ì—¼": {
        "title": ["íŽ¸ë„/ì¸í›„ì—¼ (ì„¸ê· Â·ë°”ì´ëŸ¬ìŠ¤)"],
        "quick": [
            "ëª© í†µì¦, ì—°í•˜ê³¤ëž€, ë°œì—´. ì¼ë¶€ëŠ” ì—°ì‡„ìƒêµ¬ê· (í•­ìƒì œ í•„ìš”)."
        ],
        "home": [
            "ì‹¤ë‚´ 25~26â„ƒ, ê°€ìŠµ/ë¯¸ì§€ê·¼í•œ ë¬¼, ì°¨ê°‘ê±°ë‚˜ ë¶€ë“œëŸ¬ìš´ ìŒì‹(ìš”ê±°íŠ¸, ì•„ì´ìŠ¤í¬ë¦¼).",
            "í•´ì—´ì œëŠ” ì—°ë ¹Â·ì²´ì¤‘ì— ë§žê²Œ."
        ],
        "caution": [
            "í•­ìƒì œëŠ” ì˜ì‚¬ íŒë‹¨ í•˜ì— ë³µìš©(ë¶ˆí•„ìš”í•œ í•­ìƒì œëŠ” í•´ë¡œìš¸ ìˆ˜ ìžˆìŒ)."
        ],
        "when_clinic": [
            "3ì¼ ì´ìƒ ê³ ì—´, ì¹¨ë„ ì‚¼í‚¤ê¸° íž˜ë“¤ ì •ë„ì˜ í†µì¦.",
            "íŽ¸ë„ ì£¼ìœ„ ë¶€ì¢…/íŽ¸ë„ì£¼ìœ„ë†ì–‘ ì˜ì‹¬(êµ¬ê°œíŽ¸ìœ„, ìž… ë²Œë¦¬ê¸° íž˜ë“¦)."
        ],
        "when_er": [
            "í˜¸í¡ ê³¤ëž€, ì‹¬í•œ íƒˆìˆ˜, ê¸°ë ¥ ì €í•˜ë¡œ ë³´í–‰ ê³¤ëž€."
        ],
        "myths": [
            "ëª©ê°ê¸°=í•­ìƒì œ ë¼ëŠ” ê³µì‹ì€ ì—†ìŠµë‹ˆë‹¤. ìƒë‹¹ìˆ˜ëŠ” ë°”ì´ëŸ¬ìŠ¤ì„±ìž…ë‹ˆë‹¤."
        ]
    },
    "ì¤‘ì´ì—¼": {
        "title": ["ì¤‘ì´ì—¼"],
        "quick": [
            "ê°ê¸° ë’¤ ê·€ í†µì¦/ì—´. ì¼ë¶€ëŠ” ì €ì ˆë¡œ í˜¸ì „, ì¼ë¶€ í•­ìƒì œ í•„ìš”."
        ],
        "home": [
            "í†µì¦ ì¡°ì ˆ(í•´ì—´ì§„í†µì œ), ì¶©ë¶„í•œ ìˆ˜ë¶„/íœ´ì‹."
        ],
        "caution": [
            "ê·€ì—ì„œ ê³ ë¦„/í˜ˆì„± ë¶„ë¹„ë¬¼ ìžˆìœ¼ë©´ ì˜ë£Œì§„ ìƒë‹´.",
            "í•­ìƒì œëŠ” ì§„ë‹¨ í›„ ê²°ì •."
        ],
        "when_clinic": [
            "ì—´ì´ 48~72ì‹œê°„ ì§€ì†, í†µì¦ ì‹¬í•´ì§€ëŠ” ê²½ìš°.",
            "ë°˜ë³µì„± ì¤‘ì´ì—¼/ì²­ë ¥ ì €í•˜ ì˜ì‹¬."
        ],
        "when_er": [
            "ì‹¬í•œ ì²˜ì§, ê³ ì—´ ì§€ì† + ë‹¤ë¥¸ ê²½ê³  ì¦ìƒ ë™ë°˜."
        ],
        "myths": [
            "ëª¨ë“  ê·€í†µì¦ì´ ì¦‰ì‹œ í•­ìƒì œë¥¼ ì˜ë¯¸í•˜ì§„ ì•ŠìŠµë‹ˆë‹¤."
        ]
    },
    "ê¸°ê´€ì§€ì—¼/ì²œì‹ì•…í™”": {
        "title": ["ê¸°ê´€ì§€ì—¼/ì²œì‹ ì•…í™”"],
        "quick": [
            "ê¸°ì¹¨, ìŒ•ìŒ•ê±°ë¦¼(ì²œëª…), í‰ë¶€ ë‹µë‹µí•¨.",
            "ê°ê¸° í›„ ì•…í™”ë˜ëŠ” ê²½ìš° í”í•¨."
        ],
        "home": [
            "ì˜ì‚¬ê°€ ì²˜ë°©í•œ í¡ìž…ì œ/ê¸°ê´€ì§€í™•ìž¥ì œ ì‚¬ìš©ë²•ì„ ê·¸ëŒ€ë¡œ ë”°ë¥´ê¸°.",
            "ê°€ìŠµ/ìˆ˜ë¶„ ì„­ì·¨, ìžê·¹ì  ëƒ„ìƒˆ í”¼í•˜ê¸°."
        ],
        "caution": [
            "ê¸°ì¹¨ì´ ë°¤ì— ì‹¬í•´ ìˆ˜ë©´ ë°©í•´, ë§ì´ ì§§ì•„ì§/ìˆ¨ ì°¸(í˜¸í¡ê³¤ëž€) ì‹œ ì£¼ì˜."
        ],
        "when_clinic": [
            "ì¦ìƒ 3ì¼ ì´ìƒ ì§€ì†/ì•…í™”, í¡ìž…ì œ ì‚¬ìš© íšŸìˆ˜ ì¦ê°€."
        ],
        "when_er": [
            "ë§ë¬¸ ì§§ì•„ì§, ëŠ‘ê°„í•¨ëª°/ì½§ë²Œë ìž„, ì²­ìƒ‰ì¦, ì‚°ì†Œí¬í™”ë„ ì €í•˜."
        ],
        "myths": [
            "ê¸°ì¹¨=í•­ìƒì œëŠ” ì•„ë‹™ë‹ˆë‹¤. ëŒ€ê°œ ë°”ì´ëŸ¬ìŠ¤/ê¸°ë„ê³¼ë¯¼ ë•Œë¬¸."
        ]
    },
    "ë…ê°(ì¸í”Œë£¨ì—”ìž)": {
        "title": ["ë…ê°(ì¸í”Œë£¨ì—”ìž)"],
        "quick": [
            "ê³ ì—´, ë‘í†µ/ê·¼ìœ¡í†µ, ê¸°ì¹¨. í•­ë°”ì´ëŸ¬ìŠ¤ì œëŠ” ì´ˆê¸°ì— íš¨ê³¼ê°€ í¼(ì˜ì‚¬ íŒë‹¨)."
        ],
        "home": [
            "í•´ì—´/ìˆ˜ë¶„/íœ´ì‹. í•™êµÂ·ì–´ë¦°ì´ì§‘ì€ í•´ì—´ í›„ 24ì‹œê°„ ì´ìƒ ì§€ë‚˜ê³  ì»¨ë””ì…˜ íšŒë³µë˜ë©´ ë³µê·€."
        ],
        "caution": [
            "ì˜ìœ ì•„Â·ë§Œì„±ì§ˆí™˜Â·ë©´ì—­ì €í•˜ ì•„ë™ì€ í•©ë³‘ì¦ ìœ„í—˜â†‘."
        ],
        "when_clinic": [
            "ê³ ì—´ 3ì¼ ì´ìƒ, ê¸°ì¹¨Â·í˜¸í¡ê³¤ëž€ ì•…í™”."
        ],
        "when_er": [
            "í˜¸í¡ ê³¤ëž€, ì˜ì‹ì €í•˜/ê²½ë ¨, ì‹¬í•œ íƒˆìˆ˜."
        ],
        "myths": [
            "ë…ê°ê³¼ ì¼ë°˜ ê°ê¸°ëŠ” ë‹¤ë¦…ë‹ˆë‹¤. ê°‘ìž‘ìŠ¤ëŸ° ì „ì‹ í†µì´ íŠ¹ì§•."
        ]
    },
    "ì½”ë¡œë‚˜19(ì†Œì•„)": {
        "title": ["ì½”ë¡œë‚˜19 (ì†Œì•„)"],
        "quick": [
            "ë°œì—´/ê¸°ì¹¨/ì½§ë¬¼/ì¸í›„í†µ, ëŒ€ê°œ ê²½ì¦ì´ë‚˜ ë“œë¬¼ê²Œ í˜¸í¡ê¸° í•©ë³‘ì¦."
        ],
        "home": [
            "í•´ì—´Â·ìˆ˜ë¶„Â·íœ´ì‹, ê²©ë¦¬ ìˆ˜ì¹™ ì¤€ìˆ˜(ì§€ì—­ ì§€ì¹¨ ì°¸ì¡°)."
        ],
        "caution": [
            "ê¸°ì €ì§ˆí™˜/ë©´ì—­ì €í•˜ëŠ” ì¡°ê¸° ì§„ë£Œ ê¶Œê³ ."
        ],
        "when_clinic": [
            "3ì¼ ì´ìƒ ê³ ì—´, ê¸°ì¹¨Â·í˜¸í¡ê³¤ëž€ ì•…í™”."
        ],
        "when_er": [
            "í˜¸í¡ ê³¤ëž€/ì²­ìƒ‰ì¦, ì²˜ì§ ì‹¬í•¨, ê²½ë ¨."
        ],
        "myths": [
            "ì†Œì•„ëŠ” í•­ìƒ ê°€ë³ë‹¤ëŠ” ë³´ìž¥ì€ ì—†ìŠµë‹ˆë‹¤. ê²½ê³  ì‹ í˜¸ëŠ” ì¦‰ì‹œ ì§„ë£Œ."
        ]
    },
    "ìš”ë¡œê°ì—¼(UTI)": {
        "title": ["ìš”ë¡œê°ì—¼ (UTI)"],
        "quick": [
            "ê³ ì—´ë§Œ ë³´ì´ëŠ” ê²½ìš°ë„ ìžˆìŒ(íŠ¹ížˆ ì˜ì•„). ë°°ë‡¨í†µ/ë¹ˆë‡¨/ë³µí†µ ë™ë°˜ ê°€ëŠ¥."
        ],
        "home": [
            "ìˆ˜ë¶„ ì¶©ë¶„ížˆ, ë³€ë¹„ ê´€ë¦¬(ìš”ë¡œê°ì—¼ê³¼ ì—°ê´€)."
        ],
        "caution": [
            "í•­ìƒì œëŠ” ì˜ì‚¬ ì§„ë‹¨ í›„ ë³µìš©. ì§€ì—°ë˜ë©´ ì‹ ìš°ì‹ ì—¼ ìœ„í—˜."
        ],
        "when_clinic": [
            "ê³ ì—´, ë°°ë‡¨ ê´€ë ¨ ì¦ìƒ ì§€ì†. ì†Œë³€ ê²€ì‚¬ í•„ìš”."
        ],
        "when_er": [
            "ì²˜ì§ ì‹¬í•˜ê³  ë¬¼ë„ ëª» ë§ˆì‹¬, ë°˜ë³µ êµ¬í† /ê³ ì—´ ì§€ì†."
        ],
        "myths": [
            "ë°°ë‡¨í†µì´ ì—†ì–´ë„ UTIì¼ ìˆ˜ ìžˆìŠµë‹ˆë‹¤(íŠ¹ížˆ ì˜ì•„)."
        ]
    },
    "êµ¬ë‚´ì—¼(í•­ì•”ì¹˜ë£Œ ì—°ê´€ í¬í•¨)": {
        "title": ["êµ¬ë‚´ì—¼ (í•­ì•”ì¹˜ë£Œ ì—°ê´€ í¬í•¨)"],
        "quick": [
            "ìž…ì•ˆ ê¶¤ì–‘/í†µì¦ìœ¼ë¡œ ì‹ì‚¬Â·ìˆ˜ë¶„ ì„­ì·¨ ì €í•˜, ë°œì—´ ë™ë°˜ ê°€ëŠ¥."
        ],
        "home": [
            "ì²˜ë°©ë°›ì€ ê°€ê¸€ ì‚¬ìš©, ìžê·¹ì  ìŒì‹ í”¼í•˜ê¸°(ë§µê³  ëœ¨ê±°ìš´ ê²ƒ).",
            "ì°¨ê°‘ê³  ë¶€ë“œëŸ¬ìš´ ìŒì‹ ìœ„ì£¼(ìš”ê±°íŠ¸/í‘¸ë”©/ì•„ì´ìŠ¤í¬ë¦¼).",
            "ì•½êµ­ ìƒë¦¬ì‹ì—¼ìˆ˜ëŠ” 1ì£¼ ì´ìƒ ì§€ì† ì‚¬ìš© ê¸ˆì§€."
        ],
        "caution": [
            "ë©´ì—­ì €í•˜/í˜¸ì¤‘êµ¬ê°ì†Œ ì‹œ ê°ì—¼ ìœ„í—˜ ë†’ìŒ â†’ ë°œì—´ ë™ë°˜ ì‹œ ë³‘ì› ì—°ë½.",
            "êµ¬ë‚´ì—¼ í†µì¦ìœ¼ë¡œ íƒˆìˆ˜ ìœ„í—˜."
        ],
        "when_clinic": [
            "2~3ì¼ ë‚´ í˜¸ì „ ì—†ê±°ë‚˜ í†µì¦ìœ¼ë¡œ ìŒì‹Â·ë¬¼ ì„­ì·¨ í¬ê²Œ ê°ì†Œ."
        ],
        "when_er": [
            "ë°œì—´ + ì²˜ì§/ì˜ì‹ ë³€í™”, í•˜ë£¨ ì´ìƒ ì†Œë³€ëŸ‰ ê°ì†Œ, ì—°ì† êµ¬í† ."
        ],
        "myths": [
            "ëª¨ë“  êµ¬ë‚´ì—¼ì´ ì¹¸ë””ë‹¤ì„±ì€ ì•„ë‹™ë‹ˆë‹¤. ìžì˜ì  í•­ì§„ê· ì œ ì‚¬ìš©ì€ ê¸ˆë¬¼."
        ]
    }
}

def condition_names() -> List[str]:
    return list(CONDITIONS.keys())

def build_text(name: str) -> str:
    data = CONDITIONS.get(name)
    if not data:
        return "í•­ëª©ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
    parts = []
    parts.append("ðŸ“Œ " + data["title"][0])
    if data.get("quick"):
        parts.append("â€¢ í•µì‹¬ ìš”ì•½:\n  - " + "\n  - ".join(data["quick"]))
    if data.get("home"):
        parts.append("â€¢ ì§‘ì—ì„œ í•  ì¼:\n  - " + "\n  - ".join(data["home"]))
    if data.get("caution"):
        parts.append("â€¢ ì£¼ì˜/ê¸ˆê¸°:\n  - " + "\n  - ".join(data["caution"]))
    if data.get("when_clinic"):
        parts.append("â€¢ ì–¸ì œ ì™¸ëž˜/ì†Œì•„ê³¼ ê°€ê¸°:\n  - " + "\n  - ".join(data["when_clinic"]))
    if data.get("when_er"):
        parts.append("â€¢ ì–¸ì œ ì‘ê¸‰ì‹¤ ê°€ê¸°(ðŸš¨):\n  - " + "\n  - ".join(data["when_er"]))
    if data.get("myths"):
        parts.append("â€¢ ì˜¤í•´ ë°”ë¡œìž¡ê¸°:\n  - " + "\n  - ".join(data["myths"]))
    parts.append(DISCLAIMER)
    parts.append(KST_NOTE)
    return "\n\n".join(parts)

def antipyretic_summary(weight_kg: Optional[float]) -> str:
    apap = ""
    ibu = ""
    if weight_kg and weight_kg > 0:
        apap_min = round(weight_kg * 10)
        apap_max = round(weight_kg * 15)
        ibu_mg = round(weight_kg * 10)
        apap = f"- ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íŽœ(APAP): {apap_min}~{apap_max} mg/íšŒ (4~6ì‹œê°„ ê°„ê²©)"
        ibu = f"- ì´ë¶€í”„ë¡œíŽœ(IBU): ì•½ {ibu_mg} mg/íšŒ (6~8ì‹œê°„ ê°„ê²©) â€» ìƒí›„ 6ê°œì›” ë¯¸ë§Œì€ ì§€ì–‘"
    else:
        apap = "- ì•„ì„¸íŠ¸ì•„ë¯¸ë…¸íŽœ(APAP): 10~15 mg/kg/íšŒ (4~6ì‹œê°„ ê°„ê²©)"
        ibu = "- ì´ë¶€í”„ë¡œíŽœ(IBU): 10 mg/kg/íšŒ (6~8ì‹œê°„ ê°„ê²©) â€» ìƒí›„ 6ê°œì›” ë¯¸ë§Œì€ ì§€ì–‘"
    guard = ("- 24ì‹œê°„ ì´ëŸ‰/ì„±ë¶„ì¤‘ë³µì„ ë°˜ë“œì‹œ í™•ì¸í•˜ì„¸ìš”.\n"
             "- ë‹¤ìŒ ë³µìš© ê°€ëŠ¥ ì‹œê°: APAP â‰¥4h, IBU â‰¥6h (ì•± .ics ë‚´ë³´ë‚´ê¸° í™œìš©).")
    return "â€¢ í•´ì—´ì œ ìš”ì•½:\n" + "\n".join([apap, ibu, guard])

def build_share_text(name: str, weight_kg: Optional[float]=None) -> str:
    text = build_text(name)
    ap = antipyretic_summary(weight_kg)
    return text + "\n\n" + ap
